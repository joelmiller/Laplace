
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>4.6. Cylindrical Coordinates and Unit Vectors &#8212; The Laplace Transform and Differential Equations</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css?v=b4b7a797" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'ComputerLabs/Computer Lab 05';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4.7. The Gradient in non-Cartesian Coordinates" href="Computer%20Lab%2006.html" />
    <link rel="prev" title="4.5. MAT2VCA Computer Lab 4: stationary points" href="Computer%20Lab%2004.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="The Laplace Transform and Differential Equations - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="The Laplace Transform and Differential Equations - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    The Laplace Transform
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../notebooks/LaplaceIntro.html">1. Laplace Transforms and Differential Equations</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LaplaceDef.html">1.2. Laplace Transform Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LaplaceRules.html">1.3. Some Basic Laplace Transform Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LaplaceTShift.html">1.4. The Laplace Transform and Discontinuous Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LaplaceSShift.html">1.5. The <span class="math notranslate nohighlight">\(s\)</span>-shift</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LaplacePF.html">1.6. Inverting the Laplace Transform with Partial Fractions — quadratic denominators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LaplacePF2.html">1.7. Inverting the Laplace Transform with Partial Fractions — cubic and higher order denominators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LaplaceDEsoln.html">1.8. Using the Laplace Transform to solve Differential Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LaplaceExtra.html">1.9. Optional Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/LaplaceTable.html">1.10. A table of Laplace Transforms</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Differential_Calculus/DifferentialIntro.html">2. Derivatives in higher dimension and their applications</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Differential_Calculus/Lagrange.html">2.1. Lagrange Multipliers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Differential_Calculus/Lagrange_Extensions.html">2.2. Extensions to Lagrange Multipliers</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Integral_Calculus/IntegralIntro.html">3. Integral Calculus</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Integral_Calculus/MultipleIntegrals.html">3.1. Multiple Integrals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Integral_Calculus/MultipleIntegralsDefineRegion.html">3.2. Systematically finding the terminals</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="LabIntro.html">4. Computer Labs</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Computer%20Lab%2001.html">4.1. MAT2VCA Computer Lab 1 - basics of Matlab/Octave</a></li>
<li class="toctree-l2"><a class="reference internal" href="Computer%20Lab%2002.html">4.2. MAT2VCA Computer Lab 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Computer%20Lab%2003.html">4.3. MAT2VCA Computer Lab 3</a></li>

<li class="toctree-l2"><a class="reference internal" href="Computer%20Lab%2004.html">4.5. MAT2VCA Computer Lab 4: stationary points</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">4.6. Cylindrical Coordinates and Unit Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="Computer%20Lab%2006.html">4.7. The Gradient in non-Cartesian Coordinates</a></li>
<li class="toctree-l2"><a class="reference internal" href="Computer%20Lab%2007.html">4.8. Lagrange Multipliers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Computer%20Lab%2008.html">4.9. Computer Lab 08</a></li>
<li class="toctree-l2"><a class="reference internal" href="Computer%20Lab%2009.html">4.10. Computer Lab 09  –   Work done moving through a vector field.</a></li>
<li class="toctree-l2"><a class="reference internal" href="Computer%20Lab%2011.html">4.11. Computer Lab 11</a></li>
<li class="toctree-l2"><a class="reference internal" href="Computer%20Lab%2012.html">4.12. Computer Lab 12</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/joelmiller/Laplace" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/joelmiller/Laplace/issues/new?title=Issue%20on%20page%20%2FComputerLabs/Computer Lab 05.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/ComputerLabs/Computer Lab 05.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Cylindrical Coordinates and Unit Vectors</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#surfaces-of-constant-rho">4.6.1. Surfaces of constant <span class="math notranslate nohighlight">\(\rho\)</span></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#really-important-observation">4.6.1.1. Really important observation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#surfaces-of-constant-z">4.6.2. Surfaces of constant <span class="math notranslate nohighlight">\(z\)</span></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#somewhat-important-observation">4.6.2.1. Somewhat important observation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#surfaces-of-constant-theta">4.6.3. Surfaces of constant <span class="math notranslate nohighlight">\(\theta\)</span>.</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">4.6.3.1. Really important observation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#position-vector">4.6.4. Position Vector</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="cylindrical-coordinates-and-unit-vectors">
<h1><span class="section-number">4.6. </span>Cylindrical Coordinates and Unit Vectors<a class="headerlink" href="#cylindrical-coordinates-and-unit-vectors" title="Link to this heading">#</a></h1>
<p>In this lab we will look at cylindrical coordinates.</p>
<p>For visualization purposes, it may be helpful to copy and past some of the code into matlab running on the computer (rather than octave over the cloud) and run it so that you can interact with the resulting plots</p>
<p>In Cylindrical coordinates, we define a point <span class="math notranslate nohighlight">\((x,y,z)\)</span> by three variables:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\rho\)</span>, the distance from the <span class="math notranslate nohighlight">\(z\)</span> axis to <span class="math notranslate nohighlight">\((x,y,z)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(z\)</span>, the height above (or below) the <span class="math notranslate nohighlight">\(xy\)</span> plane of <span class="math notranslate nohighlight">\((x,y,z)\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\theta\)</span>, the angle measured counterclockwise from the positive <span class="math notranslate nohighlight">\(x\)</span>-axis to the point <span class="math notranslate nohighlight">\((x,y,0)\)</span> that is the projection of <span class="math notranslate nohighlight">\((x,y,z)\)</span> onto the <span class="math notranslate nohighlight">\(xy\)</span>-plane.</p></li>
</ul>
<p>We will plot surfaces with constant values of each of these variables and also look at vectors perpendicular to them.</p>
<p>Before we do this, we look at a few relations to get from cylindrical coordinates to Cartesian coordinates.  Given values <span class="math notranslate nohighlight">\(\rho\)</span>, <span class="math notranslate nohighlight">\(\theta\)</span>, and <span class="math notranslate nohighlight">\(z\)</span>, we can find the Cartesian coordinates:</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
x &amp;= \rho \cos(\theta)\\
y &amp;= \rho \sin(\theta)\\
z &amp;= z
\end{align*}\]</div>
<p>The relations for <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> can be found by drawing the right traiangle at the origin with the given <span class="math notranslate nohighlight">\(\theta\)</span> and <span class="math notranslate nohighlight">\(\rho\)</span>.  These will be useful for helping us plot surfaces of constant <span class="math notranslate nohighlight">\(\rho\)</span>, <span class="math notranslate nohighlight">\(\theta\)</span>, or <span class="math notranslate nohighlight">\(z\)</span>.</p>
<section id="surfaces-of-constant-rho">
<h2><span class="section-number">4.6.1. </span>Surfaces of constant <span class="math notranslate nohighlight">\(\rho\)</span><a class="headerlink" href="#surfaces-of-constant-rho" title="Link to this heading">#</a></h2>
<p>We will take <span class="math notranslate nohighlight">\(\rho\)</span> to be constant and vary <span class="math notranslate nohighlight">\(\theta\)</span> and <span class="math notranslate nohighlight">\(z\)</span>.  If you think about this, you should agree that this will resemble the side boundary of a cylinder.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="p">=</span> <span class="mi">5</span>

<span class="n">theta</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nb">pi</span><span class="o">/</span><span class="mi">20</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="p">];</span>
<span class="n">z</span> <span class="p">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="mf">0.2</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>

<span class="p">[</span><span class="n">Theta</span><span class="p">,</span> <span class="n">Z</span><span class="p">]</span> <span class="p">=</span> <span class="nb">meshgrid</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span>

<span class="n">X</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Y</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>

<span class="nb">surf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>In Cartesian coordinates, the surface above is given by <span class="math notranslate nohighlight">\(x^2+y^2 = 5^2\)</span>.</p>
<p>More generally, for arbitrary <span class="math notranslate nohighlight">\(\rho\)</span> the surface is <span class="math notranslate nohighlight">\(x^2+y^2 = \rho^2\)</span>.   Notice that for each <span class="math notranslate nohighlight">\(\rho\)</span>, this is a level set of the function <span class="math notranslate nohighlight">\(f(x,y,z) = x^2+y^2\)</span>.</p>
<p>Since <span class="math notranslate nohighlight">\(\nabla f(x,y,z)\)</span> is orthogonal to level sets of <span class="math notranslate nohighlight">\(f\)</span> (and points in the direction of increasing <span class="math notranslate nohighlight">\(f\)</span>), we can find a vector that is perpendicular to the surface <span class="math notranslate nohighlight">\(f(x,y) = \rho_0^2\)</span>, that is it is perpendicular to the surface defined by specifying <span class="math notranslate nohighlight">\(\rho=\rho_0\)</span>.</p>
<p>We find</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
\nabla f(x,y,z) &amp;= \frac{\partial f}{\partial x} \vec{i} + \frac{\partial f}{\partial y} \vec{j} + \frac{\partial f}{\partial z} \vec{k}\\
&amp;= 2x \vec{i} + 2y \vec{j}
\end{align*}\]</div>
<p>We will use a special symbol for the unit vector in this direction at any <span class="math notranslate nohighlight">\((x,y,z)\)</span>.  We will call it <span class="math notranslate nohighlight">\(\vec{e}_r\)</span>.  We have</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
\vec{e}_r &amp;= \frac{ 2x \vec{i} + 2 y \vec{j}}{\| 2x \vec{i} + 2 y \vec{j}\|}\\
&amp;= 2\frac{x\vec{i} + y \vec{j}}{\sqrt{4x^2+4y^2}}\\
&amp;= \frac{x \vec{i} + y \vec{j}}{\sqrt{x^2+y^2}}\\
&amp;= \frac{x \vec{i} + y \vec{j}}{\rho}\\
&amp;= \frac{x}{\rho} \vec{i} + \frac{y}{\rho} \vec{j}\\
&amp;= \cos(\theta) \vec{i} + \sin(\theta)\vec{j}
\end{align*}\]</div>
<p>So at any point <span class="math notranslate nohighlight">\((x,y)\)</span> we have <span class="math notranslate nohighlight">\(\vec{e}_\rho\)</span> points in the direction of increasing <span class="math notranslate nohighlight">\(\rho\)</span> (and is perpendicular to the cylinder <span class="math notranslate nohighlight">\(\rho = \sqrt{x^2+y^2}\)</span>.</p>
<p>Let’s plot the surface of constant <span class="math notranslate nohighlight">\(\rho=5\)</span> again and then add plots of <span class="math notranslate nohighlight">\(\vec{e}_r\)</span> at many points on the surface.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="p">=</span> <span class="mi">5</span>

<span class="n">theta</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nb">pi</span><span class="o">/</span><span class="mi">10</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="p">];</span>
<span class="n">z</span> <span class="p">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="mf">0.2</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>

<span class="p">[</span><span class="n">Theta</span><span class="p">,</span> <span class="n">Z</span><span class="p">]</span> <span class="p">=</span> <span class="nb">meshgrid</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span>

<span class="n">X</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Y</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>

<span class="nb">surf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">)</span>

<span class="nb">hold</span> <span class="n">on</span>

<span class="n">quiver3</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">X</span><span class="o">/</span><span class="n">rho</span><span class="p">,</span> <span class="n">Y</span><span class="o">/</span><span class="n">rho</span><span class="p">,</span> <span class="nb">zeros</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">)),</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>

<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="nb">zlabel</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">)</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;plot showing surface of constant rho and e_rho for points on that surface&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="really-important-observation">
<h3><span class="section-number">4.6.1.1. </span>Really important observation<a class="headerlink" href="#really-important-observation" title="Link to this heading">#</a></h3>
<p>The vector <span class="math notranslate nohighlight">\(\vec{e}_\rho\)</span> depends on exactly what point <span class="math notranslate nohighlight">\((x,y,z)\)</span> we have chosen.  It always points away from the <span class="math notranslate nohighlight">\(z\)</span> axis.</p>
</section>
</section>
<section id="surfaces-of-constant-z">
<h2><span class="section-number">4.6.2. </span>Surfaces of constant <span class="math notranslate nohighlight">\(z\)</span><a class="headerlink" href="#surfaces-of-constant-z" title="Link to this heading">#</a></h2>
<p>Now we consider constant <span class="math notranslate nohighlight">\(z\)</span>, allowing <span class="math notranslate nohighlight">\(\rho\)</span> and <span class="math notranslate nohighlight">\(\theta\)</span> to change.  This should simply by the plane given by <span class="math notranslate nohighlight">\(z = \text{constant}\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>

<span class="n">theta</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nb">pi</span><span class="o">/</span><span class="mi">20</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="p">];</span>
<span class="n">z</span>  <span class="p">=</span> <span class="mi">5</span>

<span class="p">[</span><span class="n">Rho</span><span class="p">,</span> <span class="n">Theta</span><span class="p">]</span> <span class="p">=</span> <span class="nb">meshgrid</span><span class="p">(</span><span class="n">rho</span><span class="p">,</span> <span class="n">theta</span><span class="p">);</span>

<span class="n">X</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">.*</span><span class="nb">cos</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Y</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">.*</span><span class="nb">sin</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Z</span> <span class="p">=</span> <span class="n">z</span><span class="o">*</span><span class="nb">ones</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">));</span>
<span class="nb">surf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To find the unit vector in the direction of increasing <span class="math notranslate nohighlight">\(z\)</span>, we take the function <span class="math notranslate nohighlight">\(f(x,y,z) = z\)</span> and find <span class="math notranslate nohighlight">\(\nabla f\)</span>:</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
\nabla f(x,y,z) &amp;= \frac{\partial f}{\partial x} \vec{i} + \frac{\partial f}{\partial y} \vec{j} + \frac{\partial f}{\partial z} \vec{k}\\
&amp;= \vec{k}
\end{align*}\]</div>
<p>We call the unit vector in this direction <span class="math notranslate nohighlight">\(\vec{e}_z\)</span>, but we note that it equals <span class="math notranslate nohighlight">\(\vec{k}\)</span> everywhere.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mf">0.2</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>

<span class="n">theta</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nb">pi</span><span class="o">/</span><span class="mi">10</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="p">];</span>
<span class="n">z</span>  <span class="p">=</span> <span class="mi">5</span>

<span class="p">[</span><span class="n">Rho</span><span class="p">,</span> <span class="n">Theta</span><span class="p">]</span> <span class="p">=</span> <span class="nb">meshgrid</span><span class="p">(</span><span class="n">rho</span><span class="p">,</span> <span class="n">theta</span><span class="p">);</span>

<span class="n">X</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">.*</span><span class="nb">cos</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Y</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">.*</span><span class="nb">sin</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Z</span> <span class="p">=</span> <span class="n">z</span><span class="o">*</span><span class="nb">ones</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">));</span>
<span class="nb">surf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">)</span>
<span class="nb">hold</span> <span class="n">on</span>
<span class="n">quiver3</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span> <span class="nb">zeros</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">)),</span> <span class="nb">zeros</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">Y</span><span class="p">)),</span> <span class="nb">ones</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">Z</span><span class="p">)),</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>

<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="nb">zlabel</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">)</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;plot showing surface of constant z and e_z for points on that surface&#39;</span><span class="p">)</span>
<span class="n">zlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">5.5</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<section id="somewhat-important-observation">
<h3><span class="section-number">4.6.2.1. </span>Somewhat important observation<a class="headerlink" href="#somewhat-important-observation" title="Link to this heading">#</a></h3>
<p>The vector <span class="math notranslate nohighlight">\(\vec{e}_z\)</span> points in the same direction for any point <span class="math notranslate nohighlight">\((x,y,z)\)</span>.  That direction is up.</p>
</section>
</section>
<section id="surfaces-of-constant-theta">
<h2><span class="section-number">4.6.3. </span>Surfaces of constant <span class="math notranslate nohighlight">\(\theta\)</span>.<a class="headerlink" href="#surfaces-of-constant-theta" title="Link to this heading">#</a></h2>
<p>Now we consider constant <span class="math notranslate nohighlight">\(\theta\)</span>, but allow <span class="math notranslate nohighlight">\(z\)</span> and <span class="math notranslate nohighlight">\(\rho\)</span> to change.  If you think about this, you should agree that this will be a half plane that starts at the <span class="math notranslate nohighlight">\(z\)</span> axis, and goes out in the direction corresponding to the angle <span class="math notranslate nohighlight">\(\theta\)</span>.  We’ll plot this for <span class="math notranslate nohighlight">\(\theta= 0, 2\pi/3\)</span> and <span class="math notranslate nohighlight">\(4\pi/3\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mf">0.2</span><span class="p">:</span> <span class="mi">2</span><span class="p">];</span>
<span class="n">z</span> <span class="p">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="mf">0.4</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>

<span class="p">[</span><span class="n">Rho</span><span class="p">,</span> <span class="n">Z</span><span class="p">]</span> <span class="p">=</span> <span class="nb">meshgrid</span><span class="p">(</span><span class="n">rho</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span>

<span class="nb">figure</span><span class="p">()</span>
<span class="nb">hold</span> <span class="n">on</span>

<span class="k">for</span> <span class="n">theta</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="nb">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">X</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>
  <span class="n">Y</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>
  <span class="nb">surf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">)</span>
<span class="k">end</span>
<span class="n">daspect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="nb">zlabel</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">)</span>

<span class="nb">view</span><span class="p">(</span><span class="o">-</span><span class="mf">37.5</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Before we try to find the directions perpendicular to these level sets we try to write <span class="math notranslate nohighlight">\(\theta\)</span> in terms of <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span>.  This is a bit challenging.</p>
<p>Let’s first note that <span class="math notranslate nohighlight">\(\tan(\theta) = y/x\)</span>.</p>
<p>This would imply <span class="math notranslate nohighlight">\(\arctan(y/x) = \theta\)</span>.  However, this is not always the case.  Notice that <span class="math notranslate nohighlight">\(y/x = (-y)/(-x)\)</span>.  So the point <span class="math notranslate nohighlight">\((x,y)\)</span> and <span class="math notranslate nohighlight">\((-x,-y)\)</span> will both have the same <span class="math notranslate nohighlight">\(\tan(\theta)\)</span>.  So taking <span class="math notranslate nohighlight">\(\arctan(y/x)\)</span> could give us the correct <span class="math notranslate nohighlight">\(\theta\)</span> or it could give us <span class="math notranslate nohighlight">\(\theta - \pi\)</span>.  The values that <span class="math notranslate nohighlight">\(\arctan(y/x)\)</span> can take are given by <span class="math notranslate nohighlight">\(-\pi/2 &lt; \theta  &lt;\pi/2\)</span>.</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
\theta &amp;= \begin{cases}
\arctan(y/x) &amp; x&gt;0\\
\arctan(y/x) + \pi &amp; x&lt;0\\
\pi/2 &amp; x=0, y&gt;0\\
-\pi/2 &amp; x=0, y&lt;0
\end{cases}
\end{align*}\]</div>
<p>To illustrate that this really matches <span class="math notranslate nohighlight">\(\theta\)</span>, we’ll use some plots.  We’ll set <span class="math notranslate nohighlight">\(\theta\)</span> to range from <span class="math notranslate nohighlight">\(-\pi/2 to \)</span>3\pi/2<span class="math notranslate nohighlight">\( and \)</span>\rho=1<span class="math notranslate nohighlight">\(.  We'll calculate \)</span>x<span class="math notranslate nohighlight">\( and \)</span>y<span class="math notranslate nohighlight">\( for these values.  We'll make two plots verifying that \)</span>x<span class="math notranslate nohighlight">\( and \)</span>y<span class="math notranslate nohighlight">\( are behaving as expected and that \)</span>\tan(\theta) = y/x<span class="math notranslate nohighlight">\(.  Then we'll compare matlab's `atan(y/x)` function and the function described above with \)</span>\theta$ in a third plot.</p>
<p>Note that the interface we have here will show these plots in reverse order.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="p">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">theta</span> <span class="p">=</span> <span class="p">[</span><span class="o">-</span><span class="nb">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">:</span><span class="nb">pi</span><span class="o">/</span><span class="mi">20</span><span class="p">:</span><span class="mi">3</span><span class="o">*</span><span class="nb">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">];</span> 
<span class="n">x</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>
<span class="n">y</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>

<span class="nb">figure</span><span class="p">()</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;figure 1&#39;</span><span class="p">)</span>
<span class="n">daspect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>


<span class="nb">figure</span><span class="p">()</span>
<span class="nb">hold</span> <span class="n">on</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;DisplayName&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="s">&#39;DisplayName&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="n">y</span><span class="o">./</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;DisplayName&#39;</span><span class="p">,</span> <span class="s">&#39;y/x&#39;</span><span class="p">)</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="nb">tan</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="s">&#39;-.&#39;</span><span class="p">,</span> <span class="s">&#39;DisplayName&#39;</span><span class="p">,</span> <span class="s">&#39;tan(theta)&#39;</span><span class="p">)</span>

<span class="n">ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">legend</span><span class="p">()</span>
<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;theta&#39;</span><span class="p">)</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;figure 2&#39;</span><span class="p">)</span>


<span class="nb">figure</span><span class="p">()</span>
<span class="nb">hold</span> <span class="n">on</span>
<span class="n">xnegative</span> <span class="p">=</span> <span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">;</span> <span class="c">% this is 1 where x is negative and 0 where x is not negative</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="s">&#39;DisplayName&#39;</span><span class="p">,</span> <span class="s">&#39;theta&#39;</span><span class="p">)</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="nb">atan</span><span class="p">(</span><span class="n">y</span><span class="o">./</span><span class="n">x</span><span class="p">),</span> <span class="s">&#39;DisplayName&#39;</span><span class="p">,</span> <span class="s">&#39;arctan(y/x)&#39;</span><span class="p">)</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="nb">atan</span><span class="p">(</span><span class="n">y</span><span class="o">./</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="nb">pi</span><span class="o">*</span><span class="n">xnegative</span><span class="p">,</span> <span class="s">&#39;-.&#39;</span><span class="p">,</span> <span class="s">&#39;DisplayName&#39;</span><span class="p">,</span> <span class="s">&#39;arctan(y/x) + either 0 or pi&#39;</span><span class="p">)</span>
<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;theta&#39;</span><span class="p">)</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;figure 3&#39;</span><span class="p">)</span>
<span class="nb">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>We first note that <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> in figure 1 give a circle of radius 1 as expected.</p>
<p>In Figure 2, we see that <span class="math notranslate nohighlight">\(\tan(\theta)\)</span> matches <span class="math notranslate nohighlight">\(y/x\)</span>.  However, we also see that if we are given <span class="math notranslate nohighlight">\(\tan(\theta)\)</span>, there will be two values of <span class="math notranslate nohighlight">\(\theta\)</span> which could correspond to that value.</p>
<p>In Figure 3, we see that the function we’ve defined for <span class="math notranslate nohighlight">\(\theta\)</span> from <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> really does work  (we’ve ignored the issues right where <span class="math notranslate nohighlight">\(x=0\)</span>).</p>
<p>Now we want to calculate <span class="math notranslate nohighlight">\(\nabla f\)</span> where</p>
<div class="math notranslate nohighlight">
\[\begin{split}
f(x,y,z) = \begin{cases}
\arctan(y/x) &amp; x&gt;0\\
\arctan(y/x) + \pi &amp; x&lt;0\\
\pi/2 &amp; x=0, y&gt;0\\
-\pi/2 &amp; x=0, y&lt;0
\end{cases}
\end{split}\]</div>
<p>We’ll gloss over exactly what happens where <span class="math notranslate nohighlight">\(x=0\)</span>.</p>
<p>For any value where <span class="math notranslate nohighlight">\(x \neq 0\)</span>, the derivative of <span class="math notranslate nohighlight">\(f(x,y,z)\)</span> is either the derivative of <span class="math notranslate nohighlight">\(\arctan(y/x)\)</span> or it is the derivative of <span class="math notranslate nohighlight">\(\arctan(y/x) + \pi\)</span>.  Since <span class="math notranslate nohighlight">\(\pi\)</span> is a constant, the derivative is simply the derivative of <span class="math notranslate nohighlight">\(\arctan(y/x)\)</span>.  It’s likely you’ve forgotten (or like me never memorized <span class="math notranslate nohighlight">\(d \arctan(t)/dt\)</span>), so for reference: <span class="math notranslate nohighlight">\(d \arctan(t)/dt = 1/(1+t^2)\)</span>.</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
\nabla f(x,y,z) &amp;= \frac{\partial f}{\partial x} \vec{i} + \frac{\partial f}{\partial y} \vec{j} + \frac{\partial f}{\partial z} \vec{k}\\
&amp;= \frac{1}{1+y^2/x^2} (-y/x^2) \vec{i} +  \frac{1}{1+y^2/x^2} (1/x) \vec{j}\\
&amp;= \frac{-y}{x^2+y^2} \vec{i} + \frac{x}{x^2+y^2} \vec{j}\\
&amp;= \frac{1}{\rho} \left( -\frac{y}{r} \vec{i} + \frac{x}{r} \vec{j}\right)\\
&amp;= \frac{1}{\rho} (-\sin(\theta) \vec{i} + \cos(\theta)\vec{j})
\end{align*}\]</div>
<p>The magnitude of this vector is <span class="math notranslate nohighlight">\(1/\rho\)</span>.  If we divide by its magnitude to create a unit vector, we have:</p>
<div class="math notranslate nohighlight">
\[
\vec{e}_\theta = -\sin(\theta)\vec{i} + \cos(\theta) \vec{j}
\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mf">0.2</span><span class="p">:</span> <span class="mi">2</span><span class="p">];</span>
<span class="n">z</span> <span class="p">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="mf">0.4</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>

<span class="p">[</span><span class="n">Rho</span><span class="p">,</span> <span class="n">Z</span><span class="p">]</span> <span class="p">=</span> <span class="nb">meshgrid</span><span class="p">(</span><span class="n">rho</span><span class="p">,</span> <span class="n">z</span><span class="p">);</span>

<span class="nb">figure</span><span class="p">()</span>
<span class="nb">hold</span> <span class="n">on</span>

<span class="k">for</span> <span class="n">theta</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="nb">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">X</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>
  <span class="n">Y</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>
  <span class="nb">surf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">)</span>
  
  <span class="n">quiver3</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span> <span class="o">-</span><span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="nb">ones</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">)),</span> <span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="nb">ones</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">)),</span> <span class="nb">zeros</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">)),</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="k">end</span>
<span class="n">daspect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="nb">view</span><span class="p">(</span><span class="o">-</span><span class="mf">37.5</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="nb">zlabel</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">)</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;plot showing surfaces of constant theta and e_{theta} for points on the surfaces&#39;</span><span class="p">)</span>

<span class="nb">figure</span><span class="p">()</span>
<span class="nb">hold</span> <span class="n">on</span>
<span class="k">for</span> <span class="n">theta</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="nb">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">X</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>
  <span class="n">Y</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>
  <span class="nb">surf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">)</span>
  
  <span class="n">quiver3</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span> <span class="o">-</span><span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="nb">ones</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">)),</span> <span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="nb">ones</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">)),</span> <span class="nb">zeros</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">)),</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="k">end</span>
<span class="n">daspect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">view</span><span class="p">(</span><span class="o">-</span><span class="mf">37.5</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>

<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="nb">zlabel</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">)</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;view from above&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="id1">
<h3><span class="section-number">4.6.3.1. </span>Really important observation<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>The direction of <span class="math notranslate nohighlight">\(\vec{e}_\theta\)</span> depends on the point <span class="math notranslate nohighlight">\((x,y,z)\)</span>.  It points in the direction of increasing <span class="math notranslate nohighlight">\(\theta\)</span>.</p>
</section>
</section>
<section id="position-vector">
<h2><span class="section-number">4.6.4. </span>Position Vector<a class="headerlink" href="#position-vector" title="Link to this heading">#</a></h2>
<p>In Cartesian coordinates, we can write the vector from the origin to a point <span class="math notranslate nohighlight">\((x,y,z)\)</span> as</p>
<div class="math notranslate nohighlight">
\[
\vec{r} = x\vec{i} + y\vec{j} + z \vec{k}
\]</div>
<p>In Cylindrical coordinates, things are different because the vectors <span class="math notranslate nohighlight">\(\vec{e}_\rho\)</span> and <span class="math notranslate nohighlight">\(\vec{e}_\theta\)</span> change direction based on the location of the point.</p>
<p>Let’s see what happens if we take <span class="math notranslate nohighlight">\(\rho = 1\)</span>, <span class="math notranslate nohighlight">\(\theta = -3\pi/2\)</span> and <span class="math notranslate nohighlight">\(z=-2\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="p">=</span> <span class="mi">1</span>
<span class="n">theta</span> <span class="p">=</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="nb">pi</span><span class="o">/</span><span class="mi">2</span>
<span class="n">z</span> <span class="p">=</span> <span class="o">-</span><span class="mi">2</span>

<span class="n">x</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>
<span class="n">y</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>

<span class="n">i</span> <span class="p">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">];</span>
<span class="n">j</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">];</span>
<span class="n">k</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">];</span>

<span class="n">r_cart</span> <span class="p">=</span> <span class="n">x</span><span class="o">*</span><span class="n">i</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">j</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">k</span><span class="p">;</span>

<span class="nb">figure</span><span class="p">()</span>
<span class="n">quiver3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">r_cart</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">r_cart</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">r_cart</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="nb">hold</span> <span class="n">on</span>

<span class="c">%we&#39;ll add a surface plot to help visualize this</span>

<span class="n">tmprho</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mf">0.2</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>

<span class="n">tmptheta</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nb">pi</span><span class="o">/</span><span class="mi">10</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="p">];</span>

<span class="p">[</span><span class="n">Rho</span><span class="p">,</span> <span class="n">Theta</span><span class="p">]</span> <span class="p">=</span> <span class="nb">meshgrid</span><span class="p">(</span><span class="n">tmprho</span><span class="p">,</span> <span class="n">tmptheta</span><span class="p">);</span>

<span class="n">X</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">.*</span><span class="nb">cos</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Y</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">.*</span><span class="nb">sin</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Z</span> <span class="p">=</span> <span class="n">z</span><span class="o">*</span><span class="nb">ones</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">));</span>
<span class="nb">surf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">)</span>

<span class="n">plot3</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span> <span class="s">&#39;b.&#39;</span><span class="p">,</span> <span class="s">&#39;MarkerSize&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>



<span class="nb">xlim</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">zlim</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="nb">zlabel</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">)</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;vector from origin to specified (x,y,z), using Cartesian vectors&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>It seems natural to expect something similar when we use <span class="math notranslate nohighlight">\(\vec{e}_\rho\)</span>, <span class="math notranslate nohighlight">\(\vec{e}_\theta\)</span> and <span class="math notranslate nohighlight">\(\vec{e}_z\)</span>.  But <span class="math notranslate nohighlight">\(\rho \vec{e}_\rho + \theta \vec{e}_\theta + z \vec{e}_z\)</span> doesn’t work.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="p">=</span> <span class="mi">1</span>
<span class="n">theta</span> <span class="p">=</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="nb">pi</span><span class="o">/</span><span class="mi">2</span>
<span class="n">z</span> <span class="p">=</span> <span class="o">-</span><span class="mi">2</span>


<span class="n">x</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>
<span class="n">y</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>

<span class="n">e_theta</span> <span class="p">=</span> <span class="p">[</span><span class="o">-</span><span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="mi">0</span><span class="p">];</span>
<span class="n">e_rho</span> <span class="p">=</span> <span class="p">[</span><span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="mi">0</span><span class="p">];</span>
<span class="n">e_z</span> <span class="p">=</span>  <span class="p">[</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">];</span>

<span class="n">badr</span> <span class="p">=</span> <span class="n">theta</span><span class="o">*</span><span class="n">e_theta</span> <span class="o">+</span> <span class="n">rho</span><span class="o">*</span><span class="n">e_rho</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">e_z</span><span class="p">;</span>

<span class="n">quiver3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">badr</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">badr</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">badr</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>

<span class="nb">hold</span> <span class="n">on</span>


<span class="n">tmprho</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mf">0.2</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>

<span class="n">tmptheta</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nb">pi</span><span class="o">/</span><span class="mi">10</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="p">];</span>

<span class="p">[</span><span class="n">Rho</span><span class="p">,</span> <span class="n">Theta</span><span class="p">]</span> <span class="p">=</span> <span class="nb">meshgrid</span><span class="p">(</span><span class="n">tmprho</span><span class="p">,</span> <span class="n">tmptheta</span><span class="p">);</span>

<span class="n">X</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">.*</span><span class="nb">cos</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Y</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">.*</span><span class="nb">sin</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Z</span> <span class="p">=</span> <span class="n">z</span><span class="o">*</span><span class="nb">ones</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">));</span>
<span class="nb">surf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">)</span>

<span class="n">plot3</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span> <span class="s">&#39;b.&#39;</span><span class="p">,</span> <span class="s">&#39;MarkerSize&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>



<span class="c">%xlim([-3,3])</span>
<span class="c">%ylim([-3,3])</span>
<span class="n">zlim</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;Vector does not go to specified (x,y,z) if assuming rho e_rho + theta e_theta + z e_z&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The issue is that <span class="math notranslate nohighlight">\(\vec{e}_\rho\)</span> and <span class="math notranslate nohighlight">\(\vec{e}_\theta\)</span> are already defined relative to the point of interest.</p>
<p><span class="math notranslate nohighlight">\(\vec{e}_\rho\)</span> points directly from the <span class="math notranslate nohighlight">\(z\)</span>-axis towards <span class="math notranslate nohighlight">\((x,y,z)\)</span>.  So <span class="math notranslate nohighlight">\(\rho \vec{e}_\rho\)</span> already contains the <span class="math notranslate nohighlight">\(\theta\)</span> information about the location of <span class="math notranslate nohighlight">\((x,y,z)\)</span>.</p>
<p>We just need to have <span class="math notranslate nohighlight">\(z \vec{e}_z\)</span> to specify the vertical level of the point, and then we add <span class="math notranslate nohighlight">\(\rho \vec{e}_\rho\)</span> to get to the point.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="p">=</span> <span class="mi">1</span>
<span class="n">theta</span> <span class="p">=</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="nb">pi</span><span class="o">/</span><span class="mi">2</span>
<span class="n">z</span> <span class="p">=</span> <span class="o">-</span><span class="mi">2</span>


<span class="n">x</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>
<span class="n">y</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">);</span>

<span class="n">e_theta</span> <span class="p">=</span> <span class="p">[</span><span class="o">-</span><span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="mi">0</span><span class="p">];</span>
<span class="n">e_rho</span> <span class="p">=</span> <span class="p">[</span><span class="nb">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="nb">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="mi">0</span><span class="p">];</span>
<span class="n">e_z</span> <span class="p">=</span>  <span class="p">[</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">];</span>

<span class="n">correct_r</span> <span class="p">=</span> <span class="n">rho</span><span class="o">*</span><span class="n">e_rho</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">e_z</span><span class="p">;</span>

<span class="n">quiver3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">correct_r</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">correct_r</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">correct_r</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="nb">hold</span> <span class="n">on</span> 

<span class="c">%plot z e_z starting at origin</span>
<span class="n">quiver3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">*</span><span class="n">e_z</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">z</span><span class="o">*</span><span class="n">e_z</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">z</span><span class="o">*</span><span class="n">e_z</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;LineWidth&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>   

<span class="c">%plot rho e_rho, but starting at the point   z e_z.</span>
<span class="n">quiver3</span><span class="p">(</span><span class="n">z</span><span class="o">*</span><span class="n">e_z</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">z</span><span class="o">*</span><span class="n">e_z</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">z</span><span class="o">*</span><span class="n">e_z</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>     <span class="n">rho</span><span class="o">*</span><span class="n">e_rho</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">rho</span><span class="o">*</span><span class="n">e_rho</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">rho</span><span class="o">*</span><span class="n">e_rho</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;LineWidth&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="n">tmprho</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mf">0.2</span><span class="p">:</span><span class="mi">2</span><span class="p">];</span>

<span class="n">tmptheta</span> <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nb">pi</span><span class="o">/</span><span class="mi">10</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="p">];</span>

<span class="p">[</span><span class="n">Rho</span><span class="p">,</span> <span class="n">Theta</span><span class="p">]</span> <span class="p">=</span> <span class="nb">meshgrid</span><span class="p">(</span><span class="n">tmprho</span><span class="p">,</span> <span class="n">tmptheta</span><span class="p">);</span>

<span class="n">X</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">.*</span><span class="nb">cos</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Y</span> <span class="p">=</span> <span class="n">Rho</span><span class="o">.*</span><span class="nb">sin</span><span class="p">(</span><span class="n">Theta</span><span class="p">);</span>
<span class="n">Z</span> <span class="p">=</span> <span class="n">z</span><span class="o">*</span><span class="nb">ones</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">X</span><span class="p">));</span>
<span class="nb">surf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">)</span>

<span class="n">plot3</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span> <span class="s">&#39;b.&#39;</span><span class="p">,</span> <span class="s">&#39;MarkerSize&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">z</span><span class="o">*</span><span class="n">e_z</span>
<span class="n">rho</span> <span class="o">*</span> <span class="n">e_rho</span>


<span class="nb">xlim</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">zlim</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;Vector to specified (x,y,z) using rho e_{rho} + z e_z&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "octave-8.2"
        },
        kernelOptions: {
            name: "octave-8.2",
            path: "./ComputerLabs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'octave-8.2'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Computer%20Lab%2004.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">4.5. </span>MAT2VCA Computer Lab 4: stationary points</p>
      </div>
    </a>
    <a class="right-next"
       href="Computer%20Lab%2006.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">4.7. </span>The Gradient in non-Cartesian Coordinates</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#surfaces-of-constant-rho">4.6.1. Surfaces of constant <span class="math notranslate nohighlight">\(\rho\)</span></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#really-important-observation">4.6.1.1. Really important observation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#surfaces-of-constant-z">4.6.2. Surfaces of constant <span class="math notranslate nohighlight">\(z\)</span></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#somewhat-important-observation">4.6.2.1. Somewhat important observation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#surfaces-of-constant-theta">4.6.3. Surfaces of constant <span class="math notranslate nohighlight">\(\theta\)</span>.</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">4.6.3.1. Really important observation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#position-vector">4.6.4. Position Vector</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By LaTrobe University MAPS staff (present and past)
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>